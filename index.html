<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Learn Sight Words</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/site.css" type="text/css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="http://code.responsivevoice.org/responsivevoice.js"></script>

    <script>
        $(document).ready(function () {
            var sightWords = [];
            var totalCount = 0;
            var wordCount = 0;

            $(".words").hide();

            $(".start").click(function () {
                $(".words").show();
                $(".intro").hide();
                getWords();
            });

            function getWords() {
                jQuery.get('./data/sightwords.txt',function (data) {
                    var rawWords = data.split("\n");
                    sightWords = randomizeWords(rawWords);
                    totalCount = sightWords.length;
                    $(".word").text(sightWords[0]);
                    playSound(sightWords[0]);
                    wordCount++;
                });
            }

            function randomizeWords(array){
                for (var i = array.length - 1; i > 0; i--) {
                    var j = Math.floor(Math.random() * (i + 1));
                    var temp = array[i];
                    array[i] = array[j];
                    array[j] = temp;
                }
                return array;
            }

            $(".nextword").click(function () {
                if(wordCount+1 <= totalCount){
                    $(".word").text(sightWords[wordCount]);
                    playSound(sightWords[wordCount]);
                    wordCount++
                } else{
                    alert("All Done");
                }
            });

            function playSound(text) {
               responsiveVoice.speak(text, "US English Female");

            }

        })
    </script>

</head>
<body>
    <div class="container-fluid intro text-center">
       <h1>Sight Words</h1>
       <a href="#" class="btn btn-default btn-lg start">
           <span class="glyphicon glyphicon-play"></span> Start</a>

    </div>

    <div class="container-fluid words text-center">
        <h1 class="word">First Word</h1>
        <a href="#" class="btn btn-default btn-lg nextword">
            <span class="glyphicon glyphicon-chevron-right"></span> Next</a>
    </div>


</body>
</html>